(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{3090:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/assets",function(){return n(6847)}])},4318:function(e,s,n){"use strict";n.d(s,{Z:function(){return d}});var r=n(5893),t=n(1163),a=n(1664),i=function(){var e=(0,t.useRouter)(),s=function(s,n){for(var r=e.pathname.split("/"),t="",a=0;a!==n;)t=t+r[a]+"/",a++;return t};return(0,r.jsx)("div",{className:"flex items-center",children:e.pathname.split("/").map((function(e,n){return n>0?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"material-icons-outlined",children:"chevron_right"}),(0,r.jsx)(a.default,{href:s(0,n+1),children:(0,r.jsx)("span",{className:" cursor-pointer capitalize font-bold text-msmf-base",children:e})})]},e):null}))})},l=n(7294).memo(i),c=function(){return(0,r.jsx)("nav",{className:"px-6 py-4 w-full flex ",children:(0,r.jsx)(l,{})})},o=function(){return(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:"cursor-pointer px-4 py-2 bg-blue-50 rounded-l-full border-r-2 border-blue-400 mb-2",children:(0,r.jsx)(a.default,{href:"/admin/people/",children:(0,r.jsxs)("div",{className:"flex items-center font-bold uppercase text-sm text-msmf-base",children:[" ",(0,r.jsx)("span",{className:"material-icons-round mr-2 text-gray-400 text-lg",children:"groups"})," ","People"]})})}),(0,r.jsx)("li",{className:"cursor-pointer px-4 py-2 bg-blue-50 rounded-l-full border-r-2 border-blue-400 mb-2",children:(0,r.jsx)(a.default,{href:"/admin/blogs/",children:(0,r.jsxs)("div",{className:"flex items-center font-bold uppercase text-sm text-msmf-base",children:[" ",(0,r.jsx)("span",{className:"material-icons-round mr-2 text-gray-400 text-lg",children:"article"})," ","Blogs"]})})}),(0,r.jsx)("li",{className:"cursor-pointer px-4 py-2 bg-blue-50 rounded-l-full border-r-2 border-blue-400 mb-2",children:(0,r.jsx)(a.default,{href:"/admin/facilities",children:(0,r.jsxs)("div",{className:"flex items-center font-bold uppercase text-sm text-msmf-base",children:[" ",(0,r.jsx)("span",{className:"material-icons-round mr-2 text-gray-400 text-lg",children:"push_pin"})," ","Facilities"]})})}),(0,r.jsx)("li",{className:"cursor-pointer px-4 py-2 bg-blue-50 rounded-l-full border-r-2 border-blue-400 mb-2",children:(0,r.jsx)(a.default,{href:"/admin/assets",children:(0,r.jsxs)("div",{className:"flex items-center font-bold uppercase text-sm text-msmf-base",children:[" ",(0,r.jsx)("span",{className:"material-icons-round mr-2 text-gray-400 text-lg",children:"image"})," ","Asset Manager"]})})})]})})},d=function(e){var s=e.children;return(0,r.jsx)("div",{className:"w-screen h-screen overflow-hidden",children:(0,r.jsxs)("div",{className:"m-4 h-full rounded shadow",children:[(0,r.jsx)(c,{}),(0,r.jsxs)("div",{className:"flex w-full divide-x items-start px-6",children:[(0,r.jsx)("div",{className:"w-2/12",children:(0,r.jsx)(o,{})}),(0,r.jsx)("div",{className:"w-10/12 p-6",children:s})]})]})})}},9755:function(e,s,n){"use strict";var r=n(5893),t=function(e){switch(e){case"sm":return"w-4/12";case"md":return"w-6/12";case"lg":return"w-8/12";case"xl":return"w-10/12";default:return"w-6/12"}};s.Z=function(e){var s=e.children,n=e.open,a=e.width;return n?(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-screen h-screen",children:[(0,r.jsx)("div",{id:"backdrop",className:"absolute top-0 left-0 bg-neutral-800/30 w-full h-full z-0"}),(0,r.jsx)("div",{id:"dialog",className:"absolute w-full h-full flex justify-center items-center z-50 ",children:(0,r.jsx)("div",{className:"bg-white p-6 rounded ".concat(t(a)),children:s})})]}):null}},6847:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return b}});var r=n(5893),t=n(7294),a=n(1043),i=n(4318),l=n(8520),c=n.n(l);function o(e,s,n,r,t,a,i){try{var l=e[a](i),c=l.value}catch(o){return void n(o)}l.done?s(c):Promise.resolve(c).then(r,t)}var d=function(e){var s,n=e.assets,t=(s=c().mark((function e(s){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(s);case 2:alert("URI Copied");case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var a=s.apply(e,n);function i(e){o(a,r,t,i,l,"next",e)}function l(e){o(a,r,t,i,l,"throw",e)}i(void 0)}))});return n&&n.length?(0,r.jsxs)("table",{className:"table-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Thumbnail"}),(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Link"})]})}),(0,r.jsx)("tbody",{children:n.map((function(e,s){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("img",{src:e.uri,className:"w-8 h-8",alt:e.originalName})}),(0,r.jsx)("td",{children:e.fileName}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{onClick:function(){return t(e.uri)},children:(0,r.jsx)("span",{className:"material-icons-round",children:"link"})})})]})}))})]}):null},u=n(9755),f=n(2512),m=n(226),x=n(2124);function h(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function p(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(s){h(e,s,n[s])}))}return e}var j=function(){var e=(0,m.T)(),s=(0,t.useState)(!1),n=s[0],i=s[1],l=(0,t.useState)([]),c=l[0],o=l[1],d=(0,a.v9)((function(e){return{isLoading:e.assetsStore.isLoading,assets:e.assetsStore.assets}})),h=(d.isLoading,d.assets,(0,f.uI)({accept:"image/*",onDrop:function(e){o(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}})),j=h.getRootProps,b=h.getInputProps,v=h.acceptedFiles,g=c.map((function(e){return(0,r.jsx)("div",{className:" inline-flex rounded border border-[#eaeaea] p-[4px] w-[100px] h-[100px] mr-2 mb-2",children:(0,r.jsx)("div",{className:"flex overflow-hidden min-w-0",children:(0,r.jsx)("img",{src:e.preview,className:"block w-auto h-full"})})},e.name)})),N=function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)})),o([])};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:function(){i(!0)},className:"flex items-center bg-sky-100 shadow rounded p-2",children:(0,r.jsx)("span",{className:"material-icons-round",children:"add"})}),(0,r.jsxs)(u.Z,{open:n,children:[(0,r.jsxs)("div",{id:"dialog-header",className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-xl font-medium",children:"Upload Media"}),(0,r.jsx)("button",{onClick:function(){i(!1)},className:"rounded-full p-2 hover:bg-neutral-200 flex items-center",children:(0,r.jsx)("span",{className:"material-icons-round self-center",children:"clear"})})]}),(0,r.jsx)("div",{id:"dialog-content",className:"mt-6",children:(0,r.jsxs)("section",{className:"container",children:[(0,r.jsxs)("div",p({},j({className:"bg-gray-100 border-2 border-gray-300 border-dashed rounded px-4 py-6"}),{children:[(0,r.jsx)("input",p({},b())),(0,r.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]})),(0,r.jsx)("aside",{className:"flex flex-wrap mt-[16px]",children:g})]})}),(0,r.jsx)("div",{id:"dialog-actions",className:"flex justify-end",children:(0,r.jsxs)("button",{type:"submit",onClick:function(s){s.preventDefault();var n=new FormData;v.forEach((function(e){return n.append("assets",e)})),e((0,x.u)(n)).unwrap().then((function(e){console.log(e),N()})).catch((function(e){console.error(e)}))},className:"flex items-center bg-blue-600 shadow rounded px-4 py-2 text-white ring-1 ring-blue-900/5",children:[(0,r.jsx)("span",{className:"material-icons-round",children:"file_upload"})," Upload Files"]})})]})]})},b=function(){var e=(0,m.T)(),s=(0,a.v9)((function(e){return{isLoading:e.assetsStore.isLoading,assets:e.assetsStore.assets}})),n=s.isLoading,l=s.assets;return(0,t.useEffect)((function(){l.length<1&&e((0,x.s)()).unwrap().then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}),[]),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("p",{className:"font-avenir-book text-lg",children:"Asset Manager"}),(0,r.jsx)(j,{})]}),n?(0,r.jsx)("p",{children:"Loading Assets..."}):(0,r.jsx)(d,{assets:l})]})}}},function(e){e.O(0,[774,512,888,179],(function(){return s=3090,e(e.s=s);var s}));var s=e.O();_N_E=s}]);